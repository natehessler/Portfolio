<!DOCTYPE html>
<html lang="en">
<link rel="icon" href="https://i.ebayimg.com/images/g/xFYAAOSwE2Bh4Kki/s-l1200.jpg" type="image/png">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Nate Hessler</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Contact Me</h1>
            <nav>
                <ul>
                    <li><a href="home.html">Home</a></li>
                    <li><a href="skills.html">Skills</a></li>
                    <li><a href="experience.html">Experience</a></li>
                    <li><a href="projects.html">Projects</a></li>
                    <li><a href="contact.html" class="active">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section id="contact">
        <div class="container">
            <div class="profile-section">
                <a href="https://www.linkedin.com/in/natehessler" target="_blank">
                    <img src="NateH.png" alt="Nate Hessler" class="profile-photo">
                </a>
                <div class="profile-content">
                    <h2>Get In Touch</h2>
                    <p><a href="tel:6364435510">(636) 443-5510</a> call or text</p>
                    <p><a href="mailto:natehessler@gmail.com">natehessler@gmail.com</a></p>
                    <p><a href="https://www.linkedin.com/in/natehessler" target="_blank">LinkedIn</a></p>
                    <p><a href="https://github.com/natehessler" target="_blank">GitHub</a></p>
                </div>
            </div>
        </div>
        
        <section id="weather">
            <div class="container">
                <h2>Current Weather</h2>
                <div id="weather-widget">
                    <div id="weather-loading">Loading weather...</div>
                    <div id="weather-content" style="display: none;">
                        <div class="weather-info">
                            <div class="weather-main">
                                <span id="weather-temp"></span>
                                <span id="weather-desc"></span>
                            </div>
                            <div class="weather-details">
                                <div class="weather-location">
                                    <span id="weather-location"></span>
                                </div>
                                <div class="weather-extra">
                                    <span id="weather-humidity"></span>
                                    <span id="weather-wind"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="weather-error" style="display: none;">
                        <p>Unable to load weather data. Please check your location permissions.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="nfl-schedule">
            <div class="container">
                <h2 id="nfl-week-header">NFL Schedule & Live Scores</h2>
                <div id="nfl-widget">
                    <div id="nfl-loading">Loading NFL data...</div>
                    <div id="nfl-content" style="display: none;">
                        <div id="nfl-games-list"></div>
                    </div>
                    <div id="nfl-error" style="display: none;">
                        <p>Unable to load NFL data. Please try again later.</p>
                    </div>
                </div>
            </div>
        </section>
</section>

    <footer>
        <div class="container">
            <p>&copy; <span id="currentYear"></span> Nate Hessler</p>
            <a href="https://www.linkedin.com/in/natehessler" target="_blank" class="linkedin-link" aria-label="LinkedIn Profile">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/ca/LinkedIn_logo_initials.png" alt="LinkedIn Logo" class="linkedin-icon">
            </a>
            <a href="https://github.com/natehessler/Portfolio" target="_blank" class="github-link" aria-label="GitHub Repository">
                <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub Logo" class="github-icon">
            </a>
        </div>
    </footer>
    <script src="script.js"></script>
    <script>
        // NFL Schedule and Live Scores functionality
        document.addEventListener('DOMContentLoaded', function() {
            const nflLoading = document.getElementById('nfl-loading');
            const nflContent = document.getElementById('nfl-content');
            const nflError = document.getElementById('nfl-error');
            const nflGamesList = document.getElementById('nfl-games-list');
            const nflWeekHeader = document.getElementById('nfl-week-header');
            
            // Calculate current NFL week
            // NFL 2025 season Week 1 starts Sep 4, 2025 (Thursday)
            // Each week runs Thursday-Monday
            function getCurrentNFLWeek() {
                const today = new Date();
                const seasonStart = new Date('2025-09-04'); // Week 1 Thursday
                
                // Calculate days since season start
                const daysDiff = Math.floor((today - seasonStart) / (1000 * 60 * 60 * 24));
                
                // Each week is 7 days (Thu-Wed), but Tuesday is when we switch to next week
                // Tuesday (day 5 of week) we show next week's games
                const dayOfWeek = today.getDay(); // 0=Sun, 1=Mon, 2=Tue, etc.
                
                let weekNum = Math.floor(daysDiff / 7) + 1;
                
                // If it's Tuesday (2) or Wednesday (3), show next week
                if (dayOfWeek === 2 || dayOfWeek === 3) {
                    weekNum += 1;
                }
                
                // Cap at Week 18 (regular season)
                return Math.min(Math.max(weekNum, 1), 18);
            }
            
            function fetchNFLSchedule() {
                const currentWeek = getCurrentNFLWeek();
                const url = `https://site.api.espn.com/apis/site/v2/sports/football/nfl/scoreboard?dates=2025&seasontype=2&week=${currentWeek}`;
                
                // Update header with week number
                nflWeekHeader.textContent = `NFL Week ${currentWeek} - Schedule & Live Scores`;
                
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        if (data.events && data.events.length > 0) {
                            displayNFLGames(data.events);
                        } else {
                            nflLoading.style.display = 'none';
                            nflGamesList.innerHTML = `<p style="text-align: center; color: var(--text-secondary); padding: 2rem;">No NFL games scheduled for Week ${currentWeek}.</p>`;
                            nflContent.style.display = 'block';
                        }
                    })
                    .catch(error => {
                        console.error('NFL API error:', error);
                        showNFLError();
                    });
            }
            
            function displayNFLGames(games) {
                nflGamesList.innerHTML = '';
                
                games.forEach(game => {
                    const competition = game.competitions[0];
                    const homeTeam = competition.competitors.find(team => team.homeAway === 'home');
                    const awayTeam = competition.competitors.find(team => team.homeAway === 'away');
                    const status = game.status;
                    
                    // Determine if game is live
                    const isLive = status.type.state === 'in';
                    const isFinal = status.type.state === 'post';
                    
                    // Format date/time
                    let gameTime = '';
                    if (isLive) {
                        gameTime = status.type.detail;
                    } else {
                        const gameDate = new Date(game.date);
                        gameTime = gameDate.toLocaleString('en-US', { 
                            weekday: 'short',
                            month: 'short', 
                            day: 'numeric',
                            hour: 'numeric', 
                            minute: '2-digit',
                            hour12: true 
                        });
                    }
                    
                    // Determine winner
                    const homeScore = parseInt(homeTeam.score);
                    const awayScore = parseInt(awayTeam.score);
                    const homeWinner = isFinal && homeScore > awayScore;
                    const awayWinner = isFinal && awayScore > homeScore;
                    
                    const gameCard = document.createElement('div');
                    gameCard.className = `nfl-game-card ${isLive ? 'live' : ''}`;
                    gameCard.innerHTML = `
                        <div class="nfl-game-header">
                            <div class="nfl-game-time">${gameTime}</div>
                            <div class="nfl-game-status ${isLive ? 'live' : ''}">${isLive ? 'ðŸ”´ LIVE' : (isFinal ? 'Final' : 'Scheduled')}</div>
                        </div>
                        <div class="nfl-teams">
                            <div class="nfl-team ${awayWinner ? 'winner' : ''}">
                                <span class="nfl-team-name">${awayTeam.team.shortDisplayName}</span>
                                <span class="nfl-team-score">${awayTeam.score}</span>
                            </div>
                            <div class="nfl-team ${homeWinner ? 'winner' : ''}">
                                <span class="nfl-team-name">${homeTeam.team.shortDisplayName}</span>
                                <span class="nfl-team-score">${homeTeam.score}</span>
                            </div>
                        </div>
                    `;
                    
                    nflGamesList.appendChild(gameCard);
                });
                
                nflLoading.style.display = 'none';
                nflContent.style.display = 'block';
                
                // Auto-refresh every 30 seconds if there are live games
                const hasLiveGames = games.some(game => game.status.type.state === 'in');
                if (hasLiveGames) {
                    setTimeout(fetchNFLSchedule, 30000);
                }
            }
            
            function showNFLError() {
                nflLoading.style.display = 'none';
                nflError.style.display = 'block';
            }
            
            // Fetch NFL schedule on page load
            fetchNFLSchedule();
        });
        
        // Weather API functionality
        document.addEventListener('DOMContentLoaded', function() {
            const weatherLoading = document.getElementById('weather-loading');
            const weatherContent = document.getElementById('weather-content');
            const weatherError = document.getElementById('weather-error');
            
            // OpenWeatherMap API key (free tier)
            const API_KEY = 'dca1b22e6c32e913e1a6204a66239cae'; 
            const API_URL = 'https://api.openweathermap.org/data/2.5/weather';
            
            function getWeatherByLocation(lat, lon) {
                const url = `${API_URL}?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=imperial`;
                
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        if (data.cod === 200) {
                            displayWeather(data);
                        } else {
                            showWeatherError();
                        }
                    })
                    .catch(error => {
                        console.error('Weather API error:', error);
                        showWeatherError();
                    });
            }
            
            function displayWeather(data) {
                const temp = Math.round(data.main.temp);
                const desc = data.weather[0].description;
                const location = `${data.name}, ${data.sys.country}`;
                const humidity = data.main.humidity;
                const windSpeed = Math.round(data.wind.speed);
                
                document.getElementById('weather-temp').textContent = `${temp}Â°F`;
                document.getElementById('weather-desc').textContent = desc;
                document.getElementById('weather-location').textContent = location;
                document.getElementById('weather-humidity').textContent = `Humidity: ${humidity}%`;
                document.getElementById('weather-wind').textContent = `Wind: ${windSpeed} mph`;
                
                weatherLoading.style.display = 'none';
                weatherContent.style.display = 'block';
            }
            
            function showWeatherError() {
                weatherLoading.style.display = 'none';
                weatherError.style.display = 'block';
            }
            
            // Get user's location and fetch weather
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;
                        getWeatherByLocation(lat, lon);
                    },
                    function(error) {
                        console.error('Geolocation error:', error);
                        showWeatherError();
                    }
                );
            } else {
                showWeatherError();
            }
        });
    </script>
</body>
</html>
